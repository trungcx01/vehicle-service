<div class="container mt-4" [formGroup]="formSearch">
  <!-- Phần Tìm Kiếm -->
  <div class="search-bar text-center mb-4">
    <div class="search-type d-inline-flex mb-3">
      <div class="form-check me-3">
        <input
          class="form-check-input"
          type="radio"
          name="type"
          value="shop"
          id="searchGarage"
          formControlName="type"
        />
        <label class="form-check-label" for="searchGarage">Tìm kiếm theo Garage</label>
      </div>
      <div class="form-check">
        <input
          class="form-check-input"
          type="radio"
          name="type"
          id="searchService"
          value="vehicleCare"
          formControlName="type"
        />
        <label class="form-check-label" for="searchService">Tìm kiếm theo Dịch vụ</label>
      </div>
    </div>

    <div class="d-flex justify-content-center mb-3">
      <input
        type="text"
        class="form-control w-50"
        placeholder="Nhập từ khóa tìm kiếm..."
        formControlName="query"
      />
      <button class="btn btn-primary ms-2" (click)="performSearch()">Tìm kiếm</button>
    </div>
  </div>

  <!-- Phần Lọc -->
  <div class="filters d-flex justify-content-center mb-4">
    <select class="form-select w-auto me-3" formControlName="location">
      <option value="" disabled selected>Vị trí</option>
      <option *ngFor="let location of locations" [value]="location">{{ location }}</option>
    </select>
    <select class="form-select w-auto" formControlName="priceRange">
      <option value="" disabled selected>Khoảng giá</option>
      <option *ngFor="let range of priceRanges" [value]="range">{{ range }}</option>
    </select>
  </div>

  <div *ngIf="filteredResults.length === 0" class="text-center mt-4">
    <p>Không có kết quả phù hợp với tìm kiếm của bạn.</p>
  </div>
  <!-- Phần Kết Quả -->
  <div class="results mt-5">
    <div class="row">
      <div class="col-md-4 mb-4" *ngFor="let item of filteredResults">
        <!-- Hiển thị các thẻ cửa hàng -->
        <ng-container *ngIf="type === 'shop'">
          <div class="card garage-card" style="cursor: pointer;">
            <div class="card-header">
              <img width="200px" height="200px" [src]="item.imageUrl || 'https://via.placeholder.com/300'" alt="{{ item.name }}" class="card-img" />
            </div>
            <div class="card-body">
              <h5 class="card-title">{{ item.name }}</h5>
              <p class="card-rating">{{ item.rating || 4.6 }} ★★★☆☆</p>
              <p class="card-address">{{ item.address }}</p>
            </div>
            <div class="card-footer ">
              <button class="btn btn-dark col-12" >Chi tiết</button>
            </div>
          </div>
        </ng-container>

        <!-- Hiển thị các thẻ dịch vụ xe -->
        <ng-container *ngIf="type === 'vehicleCare'">
            <div class="service-card card">
              <img
                src="https://via.placeholder.com/200x200"
                alt="Service Image"
                class="card-img-top"
              />
              <div class="card-body">
                <div class="availability">Available</div>
                <h5 class="card-title">{{item.name}}</h5>
                <p class="card-text">{{item.description}}</p>
                <p class="estimate-duration">Thời gian: {{item.estimatedDuration}}</p>
                <p class="price">Giá: {{item.price | number}} VNĐ</p>
              </div>
              <div class="card-footer d-flex gap-1">
                <button class="btn btn-outline-success col-6" >Chi tiết</button>
                <button class="btn btn-dark col-6" >Đặt lịch</button>
              </div>
            </div>

        </ng-container>
      </div>
    </div>
  
  </div>
</div>
