<div class="appointment-modal" role="document">
  <div class="modal-content shadow-lg rounded-3">
    <div class="modal-header bg-dark text-white">
      <h6 class="modal-title fw-bold" id="proposalModalLabel">Đặt lịch hẹn</h6>
      <button
        type="button"
        class="btn-close btn-close-white"
        data-bs-dismiss="modal"
        aria-label="Close"
        (click)="closeModal()"
      ></button>
    </div>

    <!-- Nội dung Modal -->
    <div class="modal-body" [formGroup]="appointmentForm">
      <!-- Tên Shop -->
      <div class="shop-name text-center mb-4">
        <h6 class="fw-bold text-uppercase">
          Cửa hàng: <span class="text-primary">{{ shop.name }}</span>
        </h6>
      </div>

      <!-- Loại xe -->
      <div class="form-group mb-4">
        <label for="vehicleType" class="form-label fw-bold">Loại xe</label>
        <select
          class="form-select"
          id="vehicleType"
          formControlName="vehicleType"
        >
          <option value="MOTORBIKE">Motorbike</option>
          <option value="BIKE">Bike</option>
        </select>
      </div>

      <!-- Thời gian hẹn -->
      <div class="row g-3">
        <!-- Ngày -->
        <div class="form-group col-6">
          <label for="appointmentDate" class="form-label fw-bold"
            >Ngày hẹn</label
          >
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              id="appointmentDate"
              formControlName="date"
              ngbDatepicker
              #d="ngbDatepicker"
              placeholder="Chọn ngày"
            />
            <button class="btn btn-outline-primary" (click)="d.toggle()">
              <i class="fa-solid fa-calendar-days"></i>
            </button>
          </div>
        </div>

        <!-- Thời gian -->
        <div class="form-group col-6">
          <label for="openingTime" class="form-label fw-bold">Thời gian</label>
          <input
            type="text"
            formControlName="time"
            class="form-control"
            id="openingTime"
            placeholder="00:00"
            [ngxTimepicker]="fullTime1"
            [format]="24"
            readonly
          />
          <ngx-material-timepicker #fullTime1></ngx-material-timepicker>
        </div>
      </div>

      <!-- Dịch vụ của Shop -->
      <div class="form-group my-4">
        <label class="form-label fw-bold">Chọn dịch vụ</label>
        <div formGroupName="vehicleCareIds" class="d-flex flex-wrap gap-3">
          <div
            *ngFor="let vehicle of vehicleCares"
            class="vehicle-service border p-2 rounded d-flex align-items-center"
          >
            <input
              type="checkbox"
              [formControlName]="vehicle.id"
              class="form-check-input me-2"
            />
            <span class="small">{{ vehicle.name }}</span>
          </div>
        </div>
      </div>

      <!-- Ghi chú -->
      <div class="form-group">
        <label for="notes" class="form-label fw-bold">Ghi chú thêm</label>
        <textarea
          formControlName="note"
          class="form-control"
          id="notes"
          rows="3"
          placeholder="Nhập ghi chú của bạn"
        ></textarea>
      </div>
    </div>

    <!-- Footer Modal -->
    <div class="modal-footer justify-content-between">
      <button
        type="button"
        class="btn btn-secondary px-4"
        data-bs-dismiss="modal"
        (click)="closeModal()"
      >
        Hủy
      </button>
      <button type="button" class="btn btn-success px-4" (click)="submit()">
        Đặt lịch
      </button>
    </div>
  </div>
</div>
